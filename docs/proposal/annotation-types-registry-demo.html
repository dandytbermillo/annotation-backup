<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Vertical Constellation Navigator Demo</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
      background: linear-gradient(135deg, #0f172a 0%, #1e293b 100%);
      color: #e2e8f0;
      overflow: hidden;
      height: 100vh;
      position: relative;
    }

    /* Info Panel */
    .info-panel {
      position: fixed;
      top: 20px;
      right: 20px;
      background: rgba(30, 41, 59, 0.9);
      backdrop-filter: blur(12px);
      border: 1px solid rgba(71, 85, 105, 0.5);
      border-radius: 12px;
      padding: 20px;
      max-width: 350px;
      z-index: 100;
    }

    .info-panel h1 {
      font-size: 20px;
      color: #60a5fa;
      margin-bottom: 10px;
    }

    .info-panel p {
      font-size: 14px;
      line-height: 1.6;
      color: #94a3b8;
      margin-bottom: 8px;
    }

    .info-panel .instructions {
      margin-top: 15px;
      padding-top: 15px;
      border-top: 1px solid rgba(71, 85, 105, 0.5);
    }

    .info-panel .instruction-item {
      display: flex;
      align-items: center;
      gap: 10px;
      margin-bottom: 8px;
      font-size: 13px;
    }

    .info-panel .instruction-item::before {
      content: "‚Üí";
      color: #60a5fa;
      font-weight: bold;
    }

    /* Vertical Navigator Strip */
    .constellation-navigator {
      position: fixed;
      left: 10px;
      top: 50%;
      transform: translateY(-50%);
      width: 70px;
      max-height: 80vh;
      overflow-y: auto;
      overflow-x: hidden;
      background: rgba(15, 23, 42, 0.8);
      backdrop-filter: blur(8px);
      border: 1px solid rgba(71, 85, 105, 0.3);
      border-radius: 12px;
      padding: 10px 5px;
      z-index: 50;
      display: flex;
      flex-direction: column;
      gap: 15px;
      scrollbar-width: thin;
      scrollbar-color: rgba(71, 85, 105, 0.5) transparent;
    }

    .constellation-navigator::-webkit-scrollbar {
      width: 4px;
    }

    .constellation-navigator::-webkit-scrollbar-track {
      background: transparent;
    }

    .constellation-navigator::-webkit-scrollbar-thumb {
      background: rgba(71, 85, 105, 0.5);
      border-radius: 2px;
    }

    /* Constellation Thumbnail */
    .constellation-thumbnail {
      position: relative;
      width: 60px;
      cursor: pointer;
      display: flex;
      flex-direction: column;
      align-items: center;
    }

    .constellation-circle {
      width: 60px;
      height: 60px;
      border-radius: 50%;
      border: 2px solid rgba(148, 163, 184, 0.3);
      background: rgba(30, 41, 59, 0.6);
      display: flex;
      align-items: center;
      justify-content: center;
      transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
      position: relative;
    }

    .constellation-circle::before {
      content: "";
      position: absolute;
      inset: -4px;
      border-radius: 50%;
      background: transparent;
      transition: all 0.3s;
    }

    .constellation-thumbnail:hover .constellation-circle {
      border-color: rgba(96, 165, 250, 0.5);
      transform: scale(1.05);
    }

    .constellation-thumbnail.active .constellation-circle {
      border: 3px solid #60a5fa;
      box-shadow: 0 0 20px rgba(96, 165, 250, 0.5),
                  inset 0 0 20px rgba(96, 165, 250, 0.1);
      background: rgba(59, 130, 246, 0.2);
    }

    .constellation-thumbnail.active .constellation-circle::before {
      background: radial-gradient(circle, rgba(96, 165, 250, 0.2) 0%, transparent 70%);
    }

    .constellation-icon {
      font-size: 24px;
      filter: drop-shadow(0 2px 4px rgba(0, 0, 0, 0.3));
    }

    /* Center Button */
    .center-button {
      position: absolute;
      bottom: -28px;
      left: 50%;
      transform: translateX(-50%) scale(0.8);
      padding: 4px 10px;
      font-size: 10px;
      font-weight: 600;
      background: rgba(30, 41, 59, 0.95);
      color: #60a5fa;
      border: 1px solid rgba(71, 85, 105, 0.6);
      border-radius: 6px;
      white-space: nowrap;
      cursor: pointer;
      opacity: 0;
      pointer-events: none;
      transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
      z-index: 10;
    }

    .constellation-thumbnail:hover .center-button {
      opacity: 1;
      transform: translateX(-50%) scale(1);
      pointer-events: auto;
    }

    .center-button:hover {
      background: rgba(59, 130, 246, 0.9);
      color: white;
      border-color: #60a5fa;
    }

    .center-button:active {
      transform: translateX(-50%) scale(0.95);
    }

    /* Mock Canvas Area */
    .mock-canvas {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      width: 400px;
      height: 400px;
      display: flex;
      align-items: center;
      justify-content: center;
      flex-direction: column;
      gap: 20px;
    }

    .constellation-preview {
      width: 200px;
      height: 200px;
      border-radius: 50%;
      background: radial-gradient(circle, rgba(59, 130, 246, 0.3) 0%, rgba(59, 130, 246, 0.05) 50%, transparent 70%);
      border: 3px solid rgba(96, 165, 250, 0.4);
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 80px;
      transition: all 0.5s cubic-bezier(0.4, 0, 0.2, 1);
      position: relative;
      animation: pulse 3s ease-in-out infinite;
    }

    @keyframes pulse {
      0%, 100% {
        box-shadow: 0 0 40px rgba(96, 165, 250, 0.3);
      }
      50% {
        box-shadow: 0 0 60px rgba(96, 165, 250, 0.5);
      }
    }

    .constellation-info {
      text-align: center;
      opacity: 0.9;
    }

    .constellation-info h2 {
      font-size: 28px;
      color: #60a5fa;
      margin-bottom: 8px;
      font-weight: 600;
    }

    .constellation-info p {
      font-size: 14px;
      color: #94a3b8;
    }

    /* Action Feedback */
    .action-feedback {
      position: fixed;
      bottom: 30px;
      left: 50%;
      transform: translateX(-50%);
      background: rgba(30, 41, 59, 0.95);
      backdrop-filter: blur(12px);
      border: 1px solid rgba(71, 85, 105, 0.5);
      border-radius: 8px;
      padding: 12px 20px;
      font-size: 14px;
      color: #e2e8f0;
      opacity: 0;
      pointer-events: none;
      transition: opacity 0.3s;
      z-index: 200;
    }

    .action-feedback.show {
      opacity: 1;
    }

    .action-feedback.center-action {
      border-color: #60a5fa;
      color: #60a5fa;
      box-shadow: 0 4px 20px rgba(96, 165, 250, 0.3);
    }

    /* Stats Panel */
    .stats-panel {
      position: fixed;
      bottom: 20px;
      right: 20px;
      background: rgba(30, 41, 59, 0.9);
      backdrop-filter: blur(12px);
      border: 1px solid rgba(71, 85, 105, 0.5);
      border-radius: 8px;
      padding: 12px 16px;
      font-size: 12px;
      color: #94a3b8;
      display: flex;
      gap: 15px;
      z-index: 100;
    }

    .stat-item {
      display: flex;
      flex-direction: column;
      gap: 2px;
    }

    .stat-label {
      font-size: 10px;
      text-transform: uppercase;
      letter-spacing: 0.05em;
      color: #64748b;
    }

    .stat-value {
      font-size: 16px;
      font-weight: 600;
      color: #60a5fa;
    }
  </style>
</head>
<body>
  <!-- Info Panel -->
  <div class="info-panel">
    <h1>Vertical Constellation Navigator</h1>
    <p>A slim vertical strip showing circular constellation thumbnails for quick navigation.</p>
    <div class="instructions">
      <div class="instruction-item">Click a circle to select that constellation</div>
      <div class="instruction-item">Hover over a circle to reveal "Center" button</div>
      <div class="instruction-item">Click "Center" to recenter the view</div>
      <div class="instruction-item">Scroll the strip to see more constellations</div>
    </div>
  </div>

  <!-- Vertical Constellation Navigator -->
  <div class="constellation-navigator" id="navigator">
    <!-- Thumbnails will be generated by JavaScript -->
  </div>

  <!-- Mock Canvas Area -->
  <div class="mock-canvas">
    <div class="constellation-preview" id="preview">
      <span id="preview-icon">‚≠ê</span>
    </div>
    <div class="constellation-info">
      <h2 id="constellation-name">Knowledge Base</h2>
      <p id="constellation-path">/knowledge-base</p>
    </div>
  </div>

  <!-- Action Feedback -->
  <div class="action-feedback" id="feedback"></div>

  <!-- Stats Panel -->
  <div class="stats-panel">
    <div class="stat-item">
      <span class="stat-label">Total</span>
      <span class="stat-value" id="total-count">8</span>
    </div>
    <div class="stat-item">
      <span class="stat-label">Selected</span>
      <span class="stat-value" id="selected-index">1</span>
    </div>
    <div class="stat-item">
      <span class="stat-label">Actions</span>
      <span class="stat-value" id="action-count">0</span>
    </div>
  </div>

  <script>
    // Sample constellation data
    const constellations = [
      { id: '1', name: 'Knowledge Base', icon: '‚≠ê', path: '/knowledge-base' },
      { id: '2', name: 'Research Projects', icon: 'üî¨', path: '/knowledge-base/research' },
      { id: '3', name: 'Personal Notes', icon: 'üìù', path: '/knowledge-base/personal' },
      { id: '4', name: 'Work Documents', icon: 'üíº', path: '/knowledge-base/work' },
      { id: '5', name: 'Creative Ideas', icon: 'üí°', path: '/knowledge-base/ideas' },
      { id: '6', name: 'Code Snippets', icon: 'üíª', path: '/knowledge-base/code' },
      { id: '7', name: 'Learning Resources', icon: 'üìö', path: '/knowledge-base/learning' },
      { id: '8', name: 'Archive', icon: 'üì¶', path: '/knowledge-base/archive' }
    ];

    let selectedId = '1';
    let actionCount = 0;
    const navigator = document.getElementById('navigator');
    const preview = document.getElementById('preview');
    const previewIcon = document.getElementById('preview-icon');
    const constellationName = document.getElementById('constellation-name');
    const constellationPath = document.getElementById('constellation-path');
    const feedback = document.getElementById('feedback');
    const actionCountEl = document.getElementById('action-count');
    const selectedIndexEl = document.getElementById('selected-index');

    // Generate constellation thumbnails
    function generateThumbnails() {
      navigator.innerHTML = constellations.map((constellation, index) => `
        <div class="constellation-thumbnail ${constellation.id === selectedId ? 'active' : ''}"
             data-id="${constellation.id}"
             data-index="${index + 1}">
          <div class="constellation-circle">
            <span class="constellation-icon">${constellation.icon}</span>
          </div>
          <button class="center-button" onclick="handleCenter('${constellation.id}', event)">
            Center
          </button>
        </div>
      `).join('');

      // Add click handlers
      document.querySelectorAll('.constellation-thumbnail').forEach(thumb => {
        thumb.addEventListener('click', (e) => {
          if (!e.target.classList.contains('center-button')) {
            handleSelect(thumb.dataset.id);
          }
        });
      });
    }

    // Handle constellation selection
    function handleSelect(id) {
      selectedId = id;
      const constellation = constellations.find(c => c.id === id);

      // Update active state
      document.querySelectorAll('.constellation-thumbnail').forEach(thumb => {
        thumb.classList.toggle('active', thumb.dataset.id === id);
      });

      // Update preview
      previewIcon.textContent = constellation.icon;
      constellationName.textContent = constellation.name;
      constellationPath.textContent = constellation.path;

      // Update stats
      const index = document.querySelector(`[data-id="${id}"]`).dataset.index;
      selectedIndexEl.textContent = index;
      actionCount++;
      actionCountEl.textContent = actionCount;

      // Show feedback
      showFeedback(`Selected: ${constellation.name}`);

      // Add visual effect
      preview.style.transform = 'scale(1.1)';
      setTimeout(() => {
        preview.style.transform = 'scale(1)';
      }, 200);
    }

    // Handle center action
    function handleCenter(id, event) {
      event.stopPropagation();
      const constellation = constellations.find(c => c.id === id);

      actionCount++;
      actionCountEl.textContent = actionCount;

      // Show feedback
      showFeedback(`Centering view on: ${constellation.name}`, true);

      // Add visual effect
      preview.style.transform = 'scale(0.9)';
      setTimeout(() => {
        preview.style.transform = 'scale(1)';
      }, 300);
    }

    // Show action feedback
    function showFeedback(message, isCenter = false) {
      feedback.textContent = message;
      feedback.classList.toggle('center-action', isCenter);
      feedback.classList.add('show');

      setTimeout(() => {
        feedback.classList.remove('show');
      }, 2000);
    }

    // Initialize
    generateThumbnails();
    handleSelect('1');
  </script>
</body>
</html>
